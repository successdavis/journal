import{p as _,m as h,b as p,o as a,w as g,e,t as l,h as n,n as k,c as i,i as d,F as v,r as x,u as j,S as $,A as C,s as m}from"./app-ftS2QChc.js";const A={class:"max-w-5xl mx-auto p-6 md:p-10 bg-white shadow-xl rounded-3xl space-y-10"},S={class:"flex justify-between flex-col md:flex-row md:items-center gap-4"},R={class:"text-3xl font-bold text-gray-800 leading-tight"},F={class:"text-sm text-gray-500 mt-1"},q={class:"italic"},B={class:"text-right space-y-1"},D={class:"text-xs text-gray-500"},N={class:"text-gray-700 whitespace-pre-line leading-relaxed"},V={class:"grid grid-cols-1 md:grid-cols-2 gap-y-3 text-gray-700 text-sm"},L={class:"text-sm text-gray-700 space-y-1"},Y={class:"grid md:grid-cols-2 gap-6"},z=["href"],E=["href"],M={key:0},O={class:"flex flex-wrap gap-3"},T=["href"],G={key:1},I={class:"flex flex-wrap gap-3"},J=["href"],K={class:"border-t pt-6"},H={key:0},P={class:"flex gap-4"},Q={key:1},U={class:"text-gray-600 mb-2"},W={class:"flex w-full items-center justify-center"},Z={__name:"ViewManuscript",props:{assignedReview:Object},setup(c){const y=c,s=_([]);s.value=y.assignedReview.reviewed_manuscripts[0];const b=(u,t)=>{m.patch(`/reviewer/${u}/accept-review/${t}`).then(r=>{console.log(r.data[1].reviewed_manuscripts[0]),s.value=r.data[1].reviewed_manuscripts[0]})},f=(u,t)=>{m.patch(`/reviewer/${u}/reject-review/${t}`).then(r=>{s.value=r.data[1].reviewed_manuscripts[0]})},w=h(()=>{switch(s.value.pivot.request_status){case"accepted":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}});return(u,t)=>(a(),p(C,null,{default:g(()=>[e("div",A,[e("div",S,[e("div",null,[e("h1",R,l(s.value.title),1),e("p",F,[n("By "+l(s.value.author.name)+" (",1),e("span",q,l(s.value.author.email),1),t[2]||(t[2]=n(")"))])]),e("div",B,[e("span",{class:k([w.value,"px-3 py-1 text-xs font-semibold rounded-full capitalize inline-block"])},l(s.value.pivot.request_status),3),e("p",D,[t[3]||(t[3]=n("Review Status: ")),e("strong",null,l(s.value.pivot.status),1)])])]),e("section",null,[t[4]||(t[4]=e("h2",{class:"text-xl font-semibold text-gray-700 mb-2"},"Abstract",-1)),e("p",N,l(s.value.abstract),1)]),e("section",V,[e("p",null,[t[5]||(t[5]=e("strong",null,"Keywords:",-1)),n(" "+l(s.value.keywords),1)]),e("p",null,[t[6]||(t[6]=e("strong",null,"Article Type:",-1)),n(" "+l(s.value.article_type),1)]),e("p",null,[t[7]||(t[7]=e("strong",null,"Affiliation:",-1)),n(" "+l(s.value.affiliation),1)]),e("p",null,[t[8]||(t[8]=e("strong",null,"Journal:",-1)),n(" "+l(s.value.journal),1)]),e("p",null,[t[9]||(t[9]=e("strong",null,"Subject Area:",-1)),n(" "+l(s.value.subject_area),1)]),e("p",null,[t[10]||(t[10]=e("strong",null,"Ethical Approval:",-1)),n(" "+l(s.value.ethical_approval),1)]),e("p",null,[t[11]||(t[11]=e("strong",null,"Conflict of Interest:",-1)),n(" "+l(s.value.conflict_of_interest),1)]),e("p",null,[t[12]||(t[12]=e("strong",null,"Funding Statement:",-1)),n(" "+l(s.value.funding_statement),1)])]),e("section",L,[e("p",null,[t[13]||(t[13]=e("strong",null,"Consent Given:",-1)),n(" "+l(s.value.consent?"Yes":"No"),1)]),e("p",null,[t[14]||(t[14]=e("strong",null,"Originality Confirmed:",-1)),n(" "+l(s.value.originality?"Yes":"No"),1)])]),e("section",Y,[e("div",null,[t[15]||(t[15]=e("h3",{class:"font-medium text-gray-800 mb-1"},"Main Document",-1)),e("a",{href:`/${s.value.main_document}`,target:"_blank",class:"inline-block text-sm bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition"}," View Document ",8,z)]),e("div",null,[t[16]||(t[16]=e("h3",{class:"font-medium text-gray-800 mb-1"},"Cover Letter",-1)),e("a",{href:`/storage/${s.value.cover_letter}`,target:"_blank",download:"",class:"inline-block text-sm bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition"}," Download Cover Letter ",8,E)]),s.value.figures.length?(a(),i("div",M,[t[17]||(t[17]=e("h3",{class:"font-medium text-gray-800 mb-2"},"Figures",-1)),e("div",O,[(a(!0),i(v,null,x(s.value.figures,(r,o)=>(a(),i("a",{key:o,href:`/storage/${r}`,target:"_blank",class:"bg-gray-200 text-gray-800 text-sm px-3 py-1 rounded-lg hover:bg-gray-300 transition"}," Figure "+l(o+1),9,T))),128))])])):d("",!0),s.value.supplementary.length?(a(),i("div",G,[t[18]||(t[18]=e("h3",{class:"font-medium text-gray-800 mb-2"},"Supplementary Files",-1)),e("div",I,[(a(!0),i(v,null,x(s.value.supplementary,(r,o)=>(a(),i("a",{key:o,href:`/storage/${r}`,target:"_blank",class:"bg-gray-200 text-gray-800 text-sm px-3 py-1 rounded-lg hover:bg-gray-300 transition"}," File "+l(o+1),9,J))),128))])])):d("",!0)]),e("section",K,[s.value.pivot.request_status==="pending"?(a(),i("div",H,[t[19]||(t[19]=e("p",{class:"text-gray-700 mb-3 font-medium"},"Do you accept this review request?",-1)),e("div",P,[e("button",{onClick:t[0]||(t[0]=r=>b(s.value.pivot.reviewer_id,s.value.pivot.manuscript_id)),class:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition"}," Accept "),e("button",{onClick:t[1]||(t[1]=r=>f(s.value.pivot.reviewer_id,s.value.pivot.manuscript_id)),class:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition"}," Reject ")])])):(a(),i("div",Q,[e("p",U,[t[20]||(t[20]=n("You've already ")),e("strong",null,l(s.value.pivot.request_status),1),t[21]||(t[21]=n(" this review."))]),t[22]||(t[22]=e("div",{class:"flex gap-4"},[e("button",{disabled:"",class:"bg-gray-300 text-white px-4 py-2 rounded-lg cursor-not-allowed"},"Accepted"),e("button",{disabled:"",class:"bg-gray-300 text-white px-4 py-2 rounded-lg cursor-not-allowed"},"Reject")],-1))])),e("div",null,[e("div",W,[s.value.pivot.request_status==="accepted"?(a(),p(j($),{key:0,href:`/reviewer/${s.value.pivot.reviewer_id}/submit/${s.value.pivot.manuscript_id}`,class:"px-4 py-1 w-32 h-12 text-xs bg-teal-600 text-white flex justify-center items-center rounded hover:bg-teal-700"},{default:g(()=>t[23]||(t[23]=[n(" Submit Review ")])),_:1,__:[23]},8,["href"])):d("",!0)])])])])]),_:1}))}};export{Z as default};
